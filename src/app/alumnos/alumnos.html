<div class="dashboard-container">

  <header>
    <app-encabezado></app-encabezado>
    
  </header>

  <app-menu></app-menu>

  <!-- EstadÃ­sticas -->
  <div class="stats-grid">
    <app-stat-card
      icon="trending-up"
      title="Promedio General"
      [value]="stats.promedio + '%'"
      color="#10B981">
    </app-stat-card>

    <app-stat-card
      icon="check-circle"
      title="Tareas Completadas"
      [value]="stats.tareasCompletadas.toString()"
      color="#3B82F6">
    </app-stat-card>

    <app-stat-card
      icon="clock"
      title="Tareas Pendientes"
      [value]="stats.tareasPendientes.toString()"
      color="#F59E0B">
    </app-stat-card>

    <app-stat-card
      icon="alert-circle"
      title="Tareas Atrasadas"
      [value]="stats.tareasAtrasadas.toString()"
      color="#EF4444">
    </app-stat-card>
  </div>

  <!-- SecciÃ³n de tareas que necesitan ayuda -->
  <div class="section">
    <div class="section-header">
      <h2 class="section-title">ğŸ“š Tareas que Necesitan AtenciÃ³n</h2>
      <p class="section-subtitle">Basado en tus calificaciones, estas tareas podrÃ­an beneficiarse de ayuda adicional</p>
    </div>
    
    <div class="tasks-grid">
      <app-task-card
        *ngFor="let task of tasks | slice:0:2"
        [task]="task"
        (requestHelp)="openHelpModal($event)">
      </app-task-card>
    </div>
  </div>

  <!-- Todas las tareas -->
  <div class="section">
    <div class="section-header">
      <h2 class="section-title">ğŸ“ Todas las Tareas</h2>
      <p class="section-subtitle">Organizadas por prioridad</p>
    </div>
    
    <div class="tasks-grid">
      <app-task-card
        *ngFor="let task of tasks"
        [task]="task"
        (requestHelp)="openHelpModal($event)">
      </app-task-card>
    </div>
  </div>

  <!-- Modal de ayuda -->
  <app-help-modal
    *ngIf="showHelpModal && selectedTask"
    [task]="selectedTask"
    (close)="closeHelpModal()"
    (submit)="submitHelpRequest($event)">
  </app-help-modal>

  <app-footer></app-footer>
</div>